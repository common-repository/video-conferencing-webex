(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){var e,t;e=document.getElementById("vcw-manually-connect-account"),null!==(t=document.getElementById("vcw-save-connection-form"))&&t.addEventListener("submit",(function(e){e.preventDefault(),console.log(e);var n=new FormData(t);n.append("action","vcw_save_connection_settings"),e.target[2].setAttribute("disabled","disabled");var a=e.target[2].value;e.target[2].value=e.target[2].dataset.loading;var o=document.querySelector(".vcw-notifications");fetch(ajaxurl,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){t.success?location.href=t.data:(o.classList.add("error"),t.data&&(o.innerHTML="<p>"+t.data+"</p>"),e.target[2].removeAttribute("disabled"),e.target[2].value=a),console.log(t)}))})),null!==e&&e.addEventListener("click",(function(){e.checked?document.querySelectorAll(".show-only-manual-account-click").forEach((function(e){e.style.display="table-row"})):document.querySelectorAll(".show-only-manual-account-click").forEach((function(e){e.style.display="none"}))}))}))})();